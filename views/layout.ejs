<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>My Blog</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="/css/style.css" />
</head>
<body>
  <header>
  <div class="header-left">
    <h1><a href="/">My Blog</a></h1>
  </div>

  <div class="header-center">
    <button id="toggle-dark" class="btn-toggle-dark">Enable Dark Mode</button>
  </div>

  <div class="header-right">
    <nav>
      <a href="/">Home</a>
      <a href="/compose">Compose</a>
    </nav>
  </div>
</header>

  <main>
    <%- body %>
  </main>

  <footer>
    <p>&copy; 2025 My Blog</p>
  </footer>

  <script>
document.addEventListener('DOMContentLoaded', () => {
  // Confirm delete forms (existing code)
  const deleteForms = document.querySelectorAll('form.inline-form');
  deleteForms.forEach(form => {
    form.addEventListener('submit', (e) => {
      const confirmed = confirm('Are you sure you want to delete this post?');
      if (!confirmed) {
        e.preventDefault();
      }
    });
  });

  const toggleDarkBtn = document.getElementById('toggle-dark');

  // Function to apply mode and update button text
  function applyDarkMode(enabled) {
    if (enabled) {
      document.body.classList.add('dark-mode');
      toggleDarkBtn.textContent = 'Disable Dark Mode';
    } else {
      document.body.classList.remove('dark-mode');
      toggleDarkBtn.textContent = 'Enable Dark Mode';
    }
  }

  // Check localStorage for saved preference
  const savedMode = localStorage.getItem('darkModeEnabled');
  if (savedMode === 'true') {
    applyDarkMode(true);
  } else {
    applyDarkMode(false);
  }

  toggleDarkBtn.addEventListener('click', () => {
    const isDark = document.body.classList.toggle('dark-mode');
    applyDarkMode(isDark);
    localStorage.setItem('darkModeEnabled', isDark);
  });
  });
  </script>


</body>
</html>
